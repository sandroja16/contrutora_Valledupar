<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/registroInmueble.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <title>Registrar Inmueble</title>
</head>

<body>
    <h1>Registrar Inmueble</h1>

    <form id="inmuebleForm" enctype="multipart/form-data">
        <label for="nombre">Nombre de la Propiedad:</label>
        <input type="text" id="nombre" name="nombre" required><br>

        <label for="tipo">Tipo de Propiedad:</label>
        <select id="tipo" name="tipo" required>
            <option value="casa">Casa</option>
            <option value="apartamento">Apartamento</option>
            <option value="villa">Villa</option>
        </select><br>

        <label for="ciudad">Ciudad:</label>
        <input type="text" id="ciudad" name="ciudad" required><br>

        <label for="direccion">Dirección:</label>
        <input type="text" id="direccion" name="direccion" required><br>

        <label for="habitaciones">Cantidad de Habitaciones:</label>
        <input type="number" id="habitaciones" name="habitaciones" required><br>

        <label for="baños">Cantidad de Baños:</label>
        <input type="number" id="baños" name="baños" required><br>

        <label for="estrato">Estrato:</label>
        <select id="estrato" name="estrato" required>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
        </select><br>

        <label for="precio">Precio:</label>
        <input type="number" id="precio" name="precio" required><br>

        <label for="numeroWhatsapp">Número de WhatsApp:</label>
        <input type="text" id="numeroWhatsapp" name="numeroWhatsapp" placeholder="+57 328282xxxx" required><br>
        <label for="imagenes">Imágenes:</label>
        <input type="file" id="imagenes" name="imagenes[]" multiple accept="image/*"><br>


        <input type="submit" value="Registrar">
    </form>
    <script>

        document.getElementById("inmuebleForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevenir el envío del formulario por defecto

            var form = new FormData(this);

            $.ajax({
                url: "registroInmueble.php",
                type: "POST",
                data: form,
                processData: false,
                contentType: false,
                success: function (data) {
                    console.log(data); // Imprimir la respuesta en la consola
                    if (data === "exito") {
                        // Registro exitoso, hacer algo aquí (redireccionar, mostrar mensaje, etc.)
                        console.log("Registro exitoso");
                    } else {
                        // Ocurrió un error, manejar el error aquí
                        console.log("Error en el registro");
                        alert("Error en el registro: " + data);
                    }
                }
            });
        });

    </script>

</body>

</html>
